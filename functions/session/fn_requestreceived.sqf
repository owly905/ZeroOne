if (!hasInterface) exitWith {}; private["_skills","_house","_houseName","_marker","_gangID"]; zero_var_session_tries = zero_var_session_tries + 1; if(zero_var_session_completed) exitWith {}; if(zero_var_session_tries > 3) exitWith {cutText[localize "STR_Session_Error","BLACK FADED"]; 0 cutFadeOut 999999999;}; 0 cutText [localize "STR_Session_Received","BLACK FADED"]; 0 cutFadeOut 9999999; if(isNil "_this") exitWith {[] call zero_fnc_insertPlayerInfo;}; if(typeName _this == "STRING") exitWith {[] call zero_fnc_insertPlayerInfo;}; if(_this isEqualTo []) exitWith {[] call zero_fnc_insertPlayerInfo;}; if((_this select 0) == "Error") exitWith {[] call zero_fnc_insertPlayerInfo;}; if((getPlayerUID player) != _this select 0) exitWith {[] call zero_fnc_dataQuery;}; [1, parseNumber (_this select 2)] call zero_fnc_Z0Check; [0, parseNumber (_this select 3)] call zero_fnc_Z0Check; zero_var_adminLevel = compileFinal (_this select 4); if(count (_this select 5) > 0) then { { missionNamespace setVariable [(_x select 0),(_x select 1)]; } forEach (_this select 5); }; zero_var_gear = (_this select 7); [] spawn zero_fnc_loadGear; switch(playerSide) do { case west: { zero_var_copLevel = compileFinal (_this select 6); zero_var_sekLevel = compileFinal (_this select 12); zero_var_medicLevel = compileFinal "0"; zero_var_donator = (_this select 9); zero_var_exclusive = (_this select 11); _skills = _this select 8; if (count _skills != 0) then { zero_var_skills = _skills; }; zero_var_uid = (_this select 10); }; case independent: { zero_var_medicLevel = compileFinal (_this select 6); zero_var_copLevel = compileFinal "0";
zero_var_sekLevel = compileFinal "0"; zero_var_donator = (_this select 9); zero_var_exclusive = (_this select 11); _skills = _this select 8; if (count _skills != 0) then { zero_var_skills = _skills; }; zero_var_uid = (_this select 10); }; default { zero_var_is_arrested = _this select 6; zero_var_copLevel = compileFinal "0"; zero_var_sekLevel = compileFinal "0"; zero_var_medicLevel = compileFinal "0"; _skills = _this select 8; if (count _skills != 0) then { zero_var_skills = _skills; }; _gangID = _this select 9; if(typeName _gangID == typeName []) then { if(!(_gangID isEqualTo [])) then { [_gangID, true] spawn zero_fnc_gangInit; }; }else{ [_gangID] spawn zero_fnc_gangInit; }; zero_var_donator = (_this select 10); zero_var_uid = (_this select 11); zero_var_exclusive = (_this select 12); if(zero_var_license_civ_home) then { [[clientOwner, getPlayerUID player, playerSide],'zero_fnc_locker',zero_var_HC1_owner,false] call zero_fnc_sendPacket; }; zero_var_houses = _this select ((count _this) - 1); if(count zero_var_houses != 0) then { { _house = nearestBuilding (call compile format["%1", _x select 0]); _house setVariable["uid",round(random 99999),true]; _houseName = getText(configFile >> "CfgVehicles" >> (typeOf _house) >> "displayName"); _marker = createMarkerLocal [format["house_%1",(_house getVariable "uid")],(call compile format["%1", _x select 0])]; _marker setMarkerTextLocal _houseName; _marker setMarkerColorLocal "ColorBlue"; _marker setMarkerTypeLocal "loc_Lighthouse"; zero_var_vehicles pushBack _house; } forEach zero_var_houses; }; }; }; if((str player) find "east_cc" != -1 && {zero_var_donator < 2}) exitWith { ["Premium",true,false] call BIS_fnc_endMission; }; zero_var_session_completed = true;
