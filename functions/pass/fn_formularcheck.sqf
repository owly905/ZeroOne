if (!hasInterface) exitWith {}; private ["_z0","_z1","_z2","_z3","_z4","_z5","_z6","_z7","_z8","_z9","_z10","_z11","_z12","_z13","_z14","_z15","_z16","_z17","_z18","_z19","_ende","_b0","_b1","_gro","_ui","_datum"]; disableSerialization; params ["_e0t","_e2t","_e3t","_e4t","_e5t","_e6t","_e7t","_e8t","_l0t","_l1t","_l2t","_l3t","_l4t","_l5t","_l6t","_l7t","_new","_first"]; createDialog "zero_var_formularcheck"; _ui = (findDisplay 1000); zero_var_check = false; _ende = false; _z0 = _ui displayCtrl 1100; _z1 = _ui displayCtrl 1101; _z2 = _ui displayCtrl 1102; _z3 = _ui displayCtrl 1104; _z4 = _ui displayCtrl 1103; _z5 = _ui displayCtrl 1107; _z6 = _ui displayCtrl 1108; _z7 = _ui displayCtrl 1109; _z8 = _ui displayCtrl 1110; _z9 = _ui displayCtrl 1111; _z10 = _ui displayCtrl 1112; _z11 = _ui displayCtrl 1113; _z12 = _ui displayCtrl 1114; _z13 = _ui displayCtrl 1115; _z14 = _ui displayCtrl 1116; _z15 = _ui displayCtrl 1117; _z16 = _ui displayCtrl 1118; _z17 = _ui displayCtrl 1119; _z18 = _ui displayCtrl 1105; _z19 = _ui displayCtrl 1106; _b0 = _ui displayCtrl 1600; _b1 = _ui displayCtrl 1601; _z18 ctrlSetStructuredText parseText format["<t size='%1' align='center' color='#DC143C'>%2</t>", 0.6 * safeZoneH, "Anmeldeformular für eine Einbürgerung in Tanoa<br/>Überprüfen Sie bitte nochmals ihre Daten.<br/>Wenn die Daten richtig sind bitte unten rechts unterschreiben.<br/><t underline='true'>Ihr Ausweis wird Ihnen gleich ausgegeben.</t>" ]; _z19 ctrlSetStructuredText parseText format["<t size='%1' align='center' color='#DC143C'>%2</t>", 0.8 * safeZoneH, switch (zero_var_playerSide) do { case west: {format ["Achten Sie drauf, dass Sie sich auf dem Server als Polizeibeamter nur mit dem Namen <t size='2' <t underline='true'>%1</t> aufhalten dürfen.",_e0t];}; case east: {format ["Achten Sie drauf, dass Sie sich auf dem Server als Rebelle nur mit dem Namen <t size='2' <t underline='true'>%1</t> aufhalten dürfen.",_e0t];}; case independent: {format ["Achten Sie drauf, dass Sie sich auf dem Server als ADRA-Mitglied nur mit dem Namen <t size='2' <t underline='true'>%1</t> aufhalten dürfen.",_e0t];}; default {format ["Achten Sie drauf, dass Sie sich auf dem Server als Zivilist nur mit dem Namen <t size='2' <t underline='true'>%1</t> aufhalten dürfen.",_e0t];}; } ]; _b0 ctrlSetText "Zurück"; _b0 buttonSetAction "closeDialog 0"; _b1 ctrlSetText "Unterschreiben"; _b1 buttonSetAction "zero_var_check = true;"; _gro = 0.75*safeZoneH; _z0 ctrlSetStructuredText parseText format["<t size='%1' color='#EDF5F5'>Name: %2</t>",_gro,_e0t]; _z1 ctrlSetStructuredText parseText format["<t size='%1' color='#EDF5F5'>Geburtsdatum: %2</t>",_gro,format ["%1.%2.%3",_l5t,_l6t,_l7t]]; _z2 ctrlSetStructuredText parseText format["<t size='%1' color='#EDF5F5'>Anschrift: %2</t>",_gro,_e2t]; _z3 ctrlSetStructuredText parseText format["<t size='%1' color='#EDF5F5'>Plz: %2</t>",_gro,_e3t]; _z4 ctrlSetStructuredText parseText format["<t size='%1' color='#EDF5F5'>Stadt: %2</t>",_gro,_e4t]; _z5 ctrlSetStructuredText parseText format["<t size='%1' color='#EDF5F5'>Geburtsort: %2</t>",_gro,_e5t]; _z6 ctrlSetStructuredText parseText format["<t size='%1' color='#EDF5F5'>Geburtsland: %2</t>",_gro,_e6t]; _z7 ctrlSetStructuredText parseText format["<t size='%1' color='#EDF5F5'>E-Mail: %2</t>",_gro,_e7t];
_z8 ctrlSetStructuredText parseText format["<t size='%1' color='#EDF5F5'>Telefon: %2</t>",_gro,_e8t]; _z13 ctrlSetStructuredText parseText format["<t size='%1' color='#EDF5F5'>Relegion: %2</t>",_gro,_l0t]; _z14 ctrlSetStructuredText parseText format["<t size='%1' color='#EDF5F5'>minderj. Kinder: %2</t>",_gro,_l1t]; _z15 ctrlSetStructuredText parseText format["<t size='%1' color='#EDF5F5'>Geschlecht: %2</t>",_gro,_l2t]; _z16 ctrlSetStructuredText parseText format["<t size='%1' color='#EDF5F5'>Status: %2</t>",_gro,_l3t]; _z17 ctrlSetStructuredText parseText format["<t size='%1' color='#EDF5F5'>Blutgruppe: %2</t>",_gro,_l4t]; waitUntil {(!zero_var_check && isNull (findDisplay 1000))||zero_var_check}; if (!zero_var_check) exitWith {if (_new || _first) then {[_new,_first] spawn zero_fnc_formular}else {[] spawn zero_fnc_formular; "Du musst das Formular ausfüllen" call zero_fnc_msg;};}; closeDialog 0; if (_new) then { switch (true) do { case (zero_one_pass_money <= ([3, 0] call zero_fnc_Z0Check)) : {[1, ([3, 0] call zero_fnc_Z0Check) - zero_one_pass_money] call zero_fnc_Z0Check;[1] call zero_fnc_updatePartial;}; case ((zero_var_playerSide in [civilian,west,independent]) && zero_one_pass_money < ([2, 0] call zero_fnc_Z0Check)) : {[0, ([2, 0] call zero_fnc_Z0Check) - zero_one_pass_money] call zero_fnc_Z0Check;[1] call zero_fnc_updatePartial;}; default {_ende = true; "Dein Geld ist verschwunden!" call zero_fnc_msg; [1] call zero_fnc_updatePartial;}; }; }; if (_ende) exitWith {}; _datum = format["%1.%2.%3",_l5t,_l6t,_l7t]; zero_var_pass = [_e0t,_e2t,_e3t,_e4t,_e5t,_e6t,_e7t,_e8t,_l0t,_l1t,_l2t,_l3t,_l4t,_datum]; [[2,zero_var_pass,getPlayerUID player,zero_var_playerSide,clientOwner],"zero_fnc_namecheck",zero_var_HC1_owner,false] call zero_fnc_sendPacket; switch (zero_var_playerSide) do { case west: {profileNamespace setVariable ["Zero_One_Ausweis_COP_"+worldName,nil];}; case east: {profileNamespace setVariable ["Zero_One_Ausweis_REB_"+worldName,nil];}; case independent: {profileNamespace setVariable ["Zero_One_Ausweis_MED_"+worldName,nil];}; default {profileNamespace setVariable ["Zero_One_Ausweis_CIV_"+worldName,nil];}; }; if (profileName != (zero_var_pass select 0)) then { if (zero_var_pass isEqualTo "") then { zero_var_end = format["<t valign='bottom' size='2.2' align='center'>Es ist ein Fehler aufgetreten und es wurde kein Pass gefunden.</t>"]; } else { zero_var_endOne = format["<t valign='bottom' size='2.2' align='center'>Du hast dich mit dem Namen %2 versucht einzuloggen.<br/>Dein Name ist mit %1 auf dem Server hinterlegt.</t>",zero_var_pass select 0,profileName]; zero_var_end = format["<t valign='bottom' size='2.2' align='center'>Du hast dich mit dem Namen %2 versucht einzuloggen.<br/>Dein Name ist mit %1 auf dem Server hinterlegt. Du kanst Jederzeit den Namen Abändern beim Bürgerbüro lassen oder als Rebelle bei einen Dealer deiner Wahl.</t>",zero_var_pass select 0,profileName]; [zero_var_endOne,1,"Alle Infos auf Seite 4"] call zero_fnc_msg; }; "zero_var_wrongName" call bis_fnc_endmission; } else { switch (zero_var_playerSide) do { case west: {profileNamespace setVariable ["Zero_One_Ausweis_COP_"+worldName,zero_var_pass];}; case east: {profileNamespace setVariable ["Zero_One_Ausweis_REB_"+worldName,zero_var_pass];}; case independent: {profileNamespace setVariable ["Zero_One_Ausweis_MED_"+worldName,zero_var_pass];}; default {profileNamespace setVariable ["Zero_One_Ausweis_CIV_"+worldName,zero_var_pass];}; }; }; zero_var_temp_sicherung = nil; zero_var_formularChecked = nil;
