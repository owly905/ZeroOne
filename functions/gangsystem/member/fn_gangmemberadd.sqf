if (!hasInterface) exitWith {}; private["_group","_gang","_display","_title","_playerListTitle","_gangPlayerListTitle","_playerList","_gangPlayerList","_player","_index"]; _group = (group player); _gang = _group getVariable ["zero_var_gang",[]]; if(_gang isEqualTo []) exitWith {"Du bist in keiner Gang" call zero_fnc_msg;}; if(count _gang < 7) exitWith {"Es ist ein Fehler aufgetreten" call zero_fnc_msg;}; disableSerialization; _display = findDisplay 3400; if (isNull _display) exitWith {}; _title = _display displayCtrl 3401; _playerListTitle = _display displayCtrl 3402; _gangPlayerListTitle = _display displayCtrl 3403; _playerList = _display displayCtrl 3404; _gangPlayerList = _display displayCtrl 3405; if(lbCurSel _playerList == -1) exitWith {"Du hast niemand ausgewählt" call zero_fnc_msg;}; _player = _playerList lbData (lbCurSel _playerList); _player = call compile _player; if (isNull _player) exitWith {"Niemanden ausgewählt" call zero_fnc_msg;
}; _gangPlayerList lbAdd format ["%1 [%2]", _player getVariable["zero_var_realname",name _player],0]; _gangPlayerList lbSetData [(lbSize _gangPlayerList)-1,str(_player)]; _gangPlayerList lbSetColor [(lbSize _gangPlayerList)-1, [0, 1, 0, 1]]; _playerList lbDelete (lbCurSel _playerList); _gangPlayerListTitle ctrlSetStructuredText parseText format["<t align='center' size='1.25'>Gangmitglieder %1/%2</t>",lbSize _gangPlayerList, _gang select 4]; lbSort _playerList; lbSort _gangPlayerList; _index = [str(_player),zero_var_gangMemberAdd] call zero_fnc_findIndex; if(_index isEqualTo -1) then { if(_player getVariable ["zero_var_restrained",true]) exitWith {"Die Ausgewählte Person hat momentan keine Hand frei" call zero_fnc_msg;}; zero_var_gangMemberAdd pushBack [str(_player),[getPlayerUID _player,0,_player getVariable["zero_var_realname",name _player]]]; [[],"zero_fnc_refreshBuffs",_player] call zero_fnc_sendPacket; };
