if (!hasInterface) exitWith {}; private["_gang","_display","_titel","_list","_button","_button2","_member","_uid","_exit","_units"]; _gang = (group player) getVariable ["zero_var_gang",[]]; if(_gang isEqualTo []) exitWith {"Du bist in keiner Gang" call zero_fnc_msg;}; disableSerialization; createDialog "zero_var_ganglist"; _display = findDisplay 3300; if (isNull _display) exitWith {}; _titel = _display displayCtrl 3301; _list = _display displayCtrl 3302; _button = _display displayCtrl 3303; _button ctrlSetText "Kicken"; _button buttonSetAction "if(!isNil 'zero_var_allowedToRefresh' && {serverTime - zero_var_allowedToRefresh < 0.1}) exitWith {};zero_var_allowedToRefresh = serverTime;[] spawn zero_fnc_gangMemberOfflineKick";
_button2 = _display displayCtrl 3304; _button2 ctrlShow false; _titel ctrlSetStructuredText parseText format["<t align='center' size='1.3'>Liste aller Member die offline sind:</t>"]; lbClear _list; _exit = false; _member = _gang select 3; _units = units (group player); { _uid = _x select 0; { if(_uid == getPlayerUID _x) exitWith {_exit = true;}; } forEach _units; if(!_exit) then { if(count _x != 3) then { _list lbAdd format["%1 [%2]",_x select 0,_x select 1]; }else{ _list lbAdd format["%1 [%2] - %3",_x select 2,_x select 1,_x select 0]; }; _list lbSetData [(lbSize _list)-1,str(_x)]; }; _exit = false; } forEach _member; if((lbSize _list)-1 isEqualTo -1) then { _list lbAdd "Niemand ist offline"; _list lbSetData [(lbSize _list)-1,""]; };
