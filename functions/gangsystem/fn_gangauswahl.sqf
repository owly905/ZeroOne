if (!hasInterface) exitWith {}; private["_select","_display","_titel","_text","_menue","_announce","_gangs"]; disableSerialization; _display = findDisplay 3100; if (isNull _display) exitWith {systemChat "Kein Display auswahl"}; _titel = _display displayCtrl 3105; _text = _display displayCtrl 3102; _menue = _display displayCtrl 3103; _select = lbCurSel _menue; _text = _menue lbData _select; switch (_text) do { case "Gangname überprüfen" : {[] spawn zero_fnc_gangNameUeberpruefen}; case "Ganglisten einsehen" :{[] spawn zero_fnc_gangListeEinsehen}; case "Temporäre Gang erstellen" : {[0] spawn zero_fnc_gangErstellen}; case "Permanente Gang erstellen" : {[1] spawn zero_fnc_gangErstellen}; case "Austreten" : {[] spawn zero_fnc_gangAustreten}; case "Mitglieder verwalten" : {[] spawn zero_fnc_gangMemberMenu}; case "Gangkonto verwalten" : {[0] spawn zero_fnc_gangKonto}; case "Gangname ändern" : {[] spawn zero_fnc_gangNameAendern; }; case "Hauptquartier verwalten" : {[""] spawn zero_fnc_gangHauptquatier}; case "Gang auflösen" : {[] spawn zero_fnc_gangAufloesen}; case "Gangeroberung" : { _announce = zero_gang_flag getVariable ["zero_var_gangAnnounce",[]];
if(_announce isEqualTo []) exitWith {}; _gangs = ""; if(!((_announce select 1) isEqualTo [])) then { { if(!isNull _x && count (units _x) > 0) then { _gangs = _gangs + format["%1<br/>", (_x getVariable["zero_var_gang",[nil,""]]) select 1]; }; } forEach (_announce select 1); }; [32, (parseText _gangs)] call zero_fnc_msg; [_gangs,1,"Folgende Gangs sind beteiligt"] call zero_fnc_msg; }; case "Buffs verwalten" : {call zero_fnc_buffMenu_open;}; case "Virtus Zone" : { if (isNil "zero_var_exploitationtime") exitWith {}; private _msg = ""; { private _side = side (leader _x); if (_side isEqualTo civilian || _side isEqualTo east) then { private _gang = _x getVariable ["zero_var_gang",[]]; if !(_gang isEqualTo []) then { private _points = _x getVariable ["zero_var_exploitationpoints",0]; if (_points > 0) then { _msg = format ["%1<br/>%2",_msg,_gang select 1]; }; }; }; } forEach allGroups; if (_msg isEqualTo "") then { ["Es sind keine Gangs am Kapf beteiligt!",1,"Virtus Zone"] call zero_fnc_msg; } else { [format ["Folgende Gangs sind am Kapf beteiligt:%1",_msg],1,"Virtus Zone"] call zero_fnc_msg; }; }; default {"Nicht in der Liste" call zero_fnc_msg;}; };
