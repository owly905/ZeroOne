if (!hasInterface) exitWith {}; private["_medicsOnline","_medicDistance","_closest","_temp","_medics"]; disableSerialization; if (!isNull (findDisplay 3100)) then {(findDisplay 3100) closeDisplay 0;}; _medicsOnline = ((findDisplay 7300) displayCtrl 7304); _medicDistance = ((findDisplay 7300) displayCtrl 7306); [] spawn { disableSerialization; private _adrenalin = ((findDisplay 7300) displayCtrl 7305); _adrenalin ctrlEnable false; private _time = serverTime + 20; waitUntil {_time - serverTime <= 0}; private _index = ["adrenalin",zero_var_inventory] call zero_fnc_findIndex; if(_index != -1 && !isNil "zero_var_adrenalinAllowed") then { _adrenalin ctrlEnable true;
}; }; waitUntil { _closest = 50000; _medics = ({(side _x) isEqualTo independent} count playableUnits); if (_medics > 0) then { { if((side _x) isEqualTo independent) then { _temp = (player distance _x); if(_temp < _closest) then { _closest = _temp; }; }; } forEach allplayers; if (_closest > 10000) then { _closest = "Keine Feuerwehr in der NÃ¤he";} else {_closest=format["%1 m",_closest];}; _medicDistance ctrlSetText format[localize "STR_Medic_Near",_closest]; _medicsOnline ctrlSetText format[localize "STR_Medic_Online",_medics]; } else { _medicDistance ctrlSetText "Keine Feuerwehr im Dienst"; _medicsOnline ctrlSetText format[localize "STR_Medic_Online",0]; }; uiSleep 1; (isNull (findDisplay 7300)) };
