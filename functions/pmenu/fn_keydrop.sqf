if (!hasInterface) exitWith {}; private["_dialog","_list","_sel","_vehicle","_owners","_index","_index2","_action"]; disableSerialization; _action = [ format["Möchtest du den Schlüssel wirklich wegwerfern?"], format["Schlüssel wegwerfern"], localize "STR_Global_Yes", localize "STR_Global_No" ] call BIS_fnc_guiMessage; if(!_action) exitWith {}; _dialog = findDisplay 2700; _list = _dialog displayCtrl 2701; _sel = lbCurSel _list; if(_sel == -1) exitWith {"Nichts ausgewählt" call zero_fnc_msg;}; _index = (parseNumber(_list lbData _sel)); _vehicle = zero_var_vehicles select _index; if(_vehicle isKindOf "House_F") exitWith {"Du kannst deine Schlüssel vom Haus nicht wegwerfen" call zero_fnc_msg;
}; _owners = _vehicle getVariable "zero_var_vehicle_owners"; _index2 = [(getPlayerUID player),_owners] call zero_fnc_findIndex; [format["KEY DROP: %1 (%2,%3) hat Schlüssel wegeworfen von %4 (Plate: %5,%6, Besitzer: %8) - Besitzerliste: %7",player getVariable["zero_var_realname",name player], getPlayerUID player, side player, typeOf _vehicle, getPlateNumber _vehicle, _vehicle getVariable ["zero_var_vehicle_side", "UNKNOWN"], _vehicle getVariable ["zero_var_vehicle_owners",[]], _vehicle getVariable ["zero_var_vehicle_real_owner","Error"]]] call zero_fnc_zoLog; zero_var_vehicles = zero_var_vehicles - [_vehicle]; _owners deleteAt _index2; _vehicle setVariable["zero_var_vehicle_owners",_owners,true]; [] spawn zero_fnc_keyMenu;
