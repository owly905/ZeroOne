if (!hasInterface) exitWith {}; private["_veh","_tInv","_pInv","_veh_data","_titel","_str","_val","_name"]; _veh = param[0,objNull,[objNull]]; if(isNull _veh || !alive _veh) exitWith {closeDialog 0;}; disableSerialization; _tInv = (findDisplay 3100) displayCtrl 3102; _pInv = (findDisplay 3100) displayCtrl 3103; _titel = (findDisplay 3100) displayCtrl 3105; lbClear _tInv; lbClear _pInv; _veh_data =[(getNumber(missionConfigFile >> "zero_CfgVehicles" >> (typeOf zero_var_trunkCar) >> "trunk")),(zero_var_trunk_vehicle select 1)]; if((_veh_data select 0) isEqualTo -1) exitWith {closeDialog 0}; _titel ctrlSetStructuredText parseText format[ "<t align='left'>%1 - %2 %4/%5 </t>" + "<t align='right'>Inventar - %6 %7/%8 </t>", (localize "STR_MISC_VehStorage"), getText(configFile >> "CfgVehicles" >> (typeOf _veh) >> "displayName"), (localize "STR_MISC_Weight"), _veh_data select 1, _veh_data select 0, name player, zero_var_carryWeight, zero_var_maxWeight ];
{ _str = getText(missionConfigFile >> "zero_CfgItems" >> (_x select 0) >> "name"); _val = _x select 1; if(_val > 0) then { _pInv lbAdd format["[%1] - %2",_val,_str]; _pInv lbSetData [(lbSize _pInv)-1,_x select 0]; _pInv lbSetValue [(lbSize _pInv)-1,_val]; }; } forEach zero_var_inventory; { _name = getText(missionConfigFile >> "zero_CfgItems" >> (_x select 0) >> "name"); _val = _x select 1; if(_val > 0) then { _tInv lbAdd format["[%1] - %2",_val,_name]; _tInv lbSetData [(lbSize _tInv)-1,_x select 0]; _tInv lbSetValue [(lbSize _tInv)-1,_val]; }; } forEach (zero_var_trunk_vehicle select 0);
