if (!hasInterface) exitWith {}; private["_radius","_angle","_altitude","_dir","_speed","_coords","_camera"]; zero_var_cameratarget = [ 24745, 18902.2, 0 ]; zero_var_Camrunning = true; _radius = 10; _angle = 180; _altitude = 5; _dir = 0; _speed = 0.06; showChat false; uiNamespace setVariable ["zero_var_playerHUD",displayNull]; 2 cutText ["","PLAIN"]; ["",0,0,1,0.1,0,1000] spawn BIS_fnc_dynamicText; _coords = [zero_var_cameratarget, _radius, _angle] call BIS_fnc_relPos; _coords set [2, ((_coords select 2) + _altitude)]; _camera = "camera" camCreate _coords; _camera cameraEffect ["INTERNAL","BACK"]; _camera camPrepareFov 0.700; _camera camPrepareTarget zero_var_cameratarget; _camera camCommitPrepared 0; showCinemaBorder false; while {zero_var_Camrunning} do { _coords = [zero_var_cameratarget, _radius, _angle] call BIS_fnc_relPos; _coords set [2, ((_coords select 2) + _altitude)]; _camera camPreparePos _coords; _camera camCommitPrepared _speed; waitUntil {camCommitted _camera || !(zero_var_Camrunning)}; _camera camPreparePos _coords; _camera camCommitPrepared 0; _angle = if (_dir == 0) then {_angle - 1} else {_angle + 1};
if(!zero_var_Camrunning || (isNull (findDisplay 2300)) || zero_var_istazed || (player getVariable["zero_var_restrained",false])) exitWith { setObjectViewDistance [800,50]; zero_var_vehicleShopVehicleClass = nil; zero_var_vehicleShopVehicleClassIndex = nil; zero_var_vehicleShopVehicleTypeIndex = nil; zero_var_vehicleShopVehicleSkinIndex = nil; zero_var_vehicleShopVehicleSkinData = nil; zero_var_vehicleShopVehicleMaterial = nil; zero_var_vehicleShopVehicleMaterialIndex = nil; zero_var_vehicleShopVehicleObject = nil; zero_var_vehicleShopVehicleMietpreis = nil; zero_var_vehicleShopVehicleMietpreisTemp = nil; zero_var_vehicleShopVehicleKaufpreis = nil; zero_var_vehicleShopVehicleKaufpreisTemp = nil; zero_var_vehicleShopBuyType = nil; zero_var_vehicleShopFirstMaterial = nil; zero_var_vehicleShopCtrlEventhandler = nil; { _x hideObject true; false; } count ( [ 24745, 18902.2, 0 ] nearObjects 30 ); ((uiNamespace getVariable "zero_var_introdisplay") displayCtrl 5501) ctrlSetText ""; closeDialog 0; _camera cameraEffect ["TERMINATE","BACK"]; camDestroy _camera; showChat true; ["",0,0,1,0.1,0,1000] spawn BIS_fnc_dynamicText; 2 cutRsc ["zero_var_playerHUD","PLAIN"]; [] call zero_fnc_hudUpdate; }; };
