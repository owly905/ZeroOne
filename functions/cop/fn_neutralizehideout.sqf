if (!hasInterface) exitWith {}; private["_group","_hideout","_cP","_progressBar","_title","_titleText","_ui"]; _hideout = (nearestObjects[getPosATL player,["Land_u_Barracks_V2_F","Land_i_Barracks_V2_F"," Land_Barracks_01_camo_F"],25]) select 0; _group = _hideout getVariable ["zero_var_gangOwner",grpNull]; if((_hideout getVariable ["zero_var_inCapture",0]) != 0 && {((_hideout getVariable ["zero_var_inCapture",0]) + 480) > serverTime}) exitWith {(localize "STR_GNOTF_Captured") call zero_fnc_msg;}; if(isNull _group) exitWith {"Das Hideout ist neutral." call zero_fnc_msg;}; zero_var_action_inUse = true; disableSerialization; _title = "Neutralisiere Hideout"; 5 cutRsc ["zero_var_progress","PLAIN"]; _ui = uiNamespace getVariable "zero_var_progress"; _progressBar = _ui displayCtrl 38201; _titleText = _ui displayCtrl 38202; _titleText ctrlSetText format["%2 (1%1)...","%",_title]; _progressBar progressSetPosition 0.01; _cP = 0.01; _hideout setVariable["zero_var_inCapture",serverTime,true]; while {true} do { if(animationState player != "AinvPknlMstpSnonWnonDnon_medic_1") then { player playActionNow "stop"; player action ["SwitchWeapon", player, player, 100]; player playMove "AinvPknlMstpSnonWnonDnon_medic_1"; }; if(isNull _ui) then { 5 cutRsc ["zero_var_progress","PLAIN"]; _ui = uiNamespace getVariable "zero_var_progress"; _progressBar = _ui displayCtrl 38201;
_titleText = _ui displayCtrl 38202; }; _cP = _cP + 0.008; _progressBar progressSetPosition _cP; _titleText ctrlSetText format["%3 (%1%2)...",round(_cP * 100),"%",_title]; if(_cP >= 1 || !alive player || zero_var_istazed || zero_var_interrupted) exitWith {}; uiSleep 0.55; }; _hideout setVariable["zero_var_inCapture",nil,true]; zero_var_action_inUse = false; 5 cutText ["","PLAIN"]; player playActionNow "stop"; if(!alive player || zero_var_istazed || player getVariable["zero_var_restrained",false]) exitWith {}; if(zero_var_interrupted) exitWith {zero_var_interrupted = false; titleText[localize "STR_GNOTF_CaptureCancel","PLAIN"];}; [0, ([2, 0] call zero_fnc_Z0Check) + 25000] call zero_fnc_Z0Check; titleText[format["Hideout wurde neutralisiert und du hast eine Belohung von %1 erhalten",[25000] call zero_fnc_numberText],"PLAIN"]; _hideout setVariable["zero_var_gangOwner",nil,true]; switch (true) do { case (player distance (getMarkerPos "gang_area_1") < 30): {"gang_area_1" setMarkerText "Gang Hideout 1 (Cannabisextraktor)"}; case (player distance (getMarkerPos "gang_area_2") < 30): {"gang_area_2" setMarkerText "G7 Waffenladen"}; case (player distance (getMarkerPos "gang_area_3") < 30): {"gang_area_3" setMarkerText "Gang Hideout 3 (Heroinaufbereitung)"}; case (player distance (getMarkerPos "gang_area_4") < 30): {"gang_area_4" setMarkerText "Gang Hideout 2 (Kokainextraktor)"}; default {""}; };
