if (!hasInterface) exitWith {}; private["_cop","_inv","_val","_robber","_chance"]; _cop = param[0,objNull,[objNull]]; _chance = param[1,0,[0]]; if(isNull _cop) exitWith {}; _inv = []; _robber = false; { private _index = [_x select 0, zero_var_inventory] call zero_fnc_findIndex; if(_index isEqualTo -1) then { _val = 0; }else{ _val = (zero_var_inventory select _index) select 1; }; if(_val > 0) then { private _random = random(100);
if(_random > _chance) then {_val = round(_val * 0.5);}; _inv pushBack [_x select 0,_val]; [false,(_x select 0),_val] call zero_fnc_handleZOInv; }; } forEach getArray(missionConfigFile >> "zero_CfgItems" >> "illegalItems"); if(!zero_var_use_atm) then { [1, 0] call zero_fnc_Z0Check; _robber = true; }; [[player,_inv,_robber],"zero_fnc_copSearch",_cop] call zero_fnc_sendPacket;
