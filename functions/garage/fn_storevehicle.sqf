if (!hasInterface) exitWith {}; private _type = param [0,"",["",[]]]; if ((typeName _type) isEqualTo (typeName "")) then {_type =["Car","Ship","Air"];}; if(!isNull (objectParent player)) exitWith {"Steigen Sie vorher aus dem Fahrzeug aus" call zero_fnc_msg;}; private _nearVehicles = nearestObjects[getPos player,_type,30]; private _vehicle = objNull; if(count _nearVehicles > 0) then { { if(((_x getVariable ["zero_var_vehicle_real_owner", ["",""]]) select 0) == (getPlayerUID player)) then {_vehicle = _x;}; if(!isNil "_vehicle") exitWith {}; _vehData = _x getVariable["zero_var_vehicle_owners",[]]; if(count _vehData > 0) then { _vehOwner = (_vehData select 0) select 0; if((getPlayerUID player) == _vehOwner) exitWith {_vehicle = _x;}; }; } forEach _nearVehicles; }; if(isNil "_vehicle") exitWith { private _funktion = {switch (_this) do { case "Car" : {"Fahrzeuge"};
case "Ship" : {"Boote"}; case "Air" : {"Fluggeräte"}; default {"Unbekanntes"}; };}; private _text = "Sie können hier nur"; {_text = format ["%1 %2",_text,_x call _funktion];}forEach _type; (format ["%1 %2 einlagern",localize "STR_Garage_NoNPC",_text]) call zero_fnc_msg; }; if(isNull _vehicle) exitWith {}; [[_vehicle,false,clientOwner,false,getPlayerUID player],"zero_fnc_vehicleStore",zero_var_HC1_owner,false] call zero_fnc_sendPacket; [localize "STR_Garage_Store_Server",2,"",true] call zero_fnc_msg; zero_var_garage_store = true; [format ["IMPOUNDED: %1 (%2,%3) hat %4 eingeparkt.",player getVariable["zero_var_realname",getPlayerUID player], getPlayerUID player, playerSide, getText(missionConfigFile >> "zero_CfgVehicles" >> (typeof _vehicle) >> "logname")]] call zero_fnc_zoLog;
