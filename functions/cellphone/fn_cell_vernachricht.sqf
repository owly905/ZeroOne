if (!hasInterface) exitWith {}; private["_msg","_to","_pos","_time","_pid","_chrByte","_allowed","_vehicle","_var","_vehicleInfo"]; _vehicle = [_this, 0, objNull] call bis_fnc_param; _vehicleInfo = (typeOf _vehicle) call zero_fnc_fetchVehInfo; _msg = format ["Guten Tag! Wir haben an der Position %1 Ihre(n) %2 verlassen aufgefunden.<br/>Dürfen Wir diese(n) in Ihre Garage abschleppen? Diese(r) wäre unmittelbar wieder verfügbar!<br/>MfG Ihre Feuerwehr",(mapGridPosition _vehicle),_vehicleInfo select 3]; _var = (_vehicle getVariable ["zero_var_vehicle_real_owner",[]]) select 0; [] call zero_fnc_refreshPlayers; { if ((getPlayerUID _X) isEqualTo _var) then { _to = _x; } } forEach zero_var_localplayerlist; _pos = []; _time = floor (serverTime);
_pid = getPlayerUID player; if(!([(getPlayerUID _to)] call zero_fnc_isUIDActive)) exitWith {["Der Spieler ist nicht mehr online <br/> Wenn du möchtest kannst du das Fahrzeug jetzt abschleppen!",1] call zero_fnc_msg;}; [format ["MESSAGE SEND: %1 (%2, %3) hat ""%4"" an %5 (%6, %7) gesendet",player getVariable["zero_var_realname",getPlayerUID player], getPlayerUID player,playerSide,_msg,_to getVariable["zero_var_realname",name _to], getPlayerUID _to, side _to]] call zero_fnc_zoLog; [[0,_msg,name player,_pos,_time,_pid,player],"zero_fnc_cell_reciveMessage",_to] call zero_fnc_sendPacket; [_msg,1,format["Du hast %1 eine Nachricht gesendet",_to getVariable["zero_var_realname",name _to]]] call zero_fnc_msg; [] call zero_fnc_cellphone; closeDialog 0;
