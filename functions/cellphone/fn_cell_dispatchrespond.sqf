if (!hasInterface) exitWith {}; private _msg = ""; switch (lbCurSel 4013) do { case 0: { _msg = ( ctrlText 4016 ); }; case 1: { _msg = localize "STR_CELL_Units_Way"; }; case 2: { _msg = localize "STR_CELL_Wait"; }; case 3: { _msg = localize "STR_CELL_Already_There"; }; case 4: { _msg = localize "STR_CELL_Terrorists"; }; case 5: { _msg = localize "STR_CELL_Land_Granted"; }; case 6: { _msg = localize "STR_CELL_Land_Denied"; }; case 7: { _msg = localize "STR_CELL_5W"; }; case 8: { _msg = localize "STR_CELL_WWWWW"; }; case 9: { _msg = localize "STR_CELL_Server_Rules"; }; case 10: { _msg = localize "STR_CELL_Longer"; }; case 11: { _msg = localize "STR_CELL_Support"; }; case 12: { _msg = localize "STR_CELL_Case_Med"; }; case 13: { _msg = localize "STR_CELL_Case_Cop"; }; case 14: { _msg = localize "STR_CELL_Case_Time"; }; case 15: { _msg = localize "STR_CELL_Chuck_Norris"; }; default {"Fehler, bitte versuche es erneut!" call zero_fnc_msg;}; }; if( _msg isEqualTo "" ) exitWith { (localize "STR_CELL_Title_Edit") call zero_fnc_msg;
}; [ format ["MESSAGE SEND: %1 (%2, %3) hat auf Dispatch mit ""%4"" geantwortet", player getVariable[ "zero_var_realname", getPlayerUID player ], getPlayerUID player, playerSide, _msg ] ] call zero_fnc_zoLog; { if( (getPlayerUID _x) == (zero_var_current_dispatch select 4) ) then { private _exit = false; private _chrByte = toArray (_msg); private _allowed = toArray( "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz 0123456789ÄäÖöÜüß!#$()[]*+,-./<=>?@:&§^" ); { if !(_x in _allowed) exitWith { (format ["Das Zeichen %1 ist in einer SMS nicht erlaubt", toString[_x]]) call zero_fnc_msg; _exit = true; } } forEach _chrByte; if(_exit) exitWith {}; [ [ 0, _msg, name player, [], floor (serverTime), ( getPlayerUID player ), player ], "zero_fnc_cell_reciveMessage", _x ] call zero_fnc_sendPacket; [_msg,1,format ["Du hast %1 eine Nachricht gesendet",zero_var_current_dispatch select 1]] call zero_fnc_msg; zero_var_current_dispatch = []; closeDialog 0; }; } forEach ( allPlayers - ( entities "HeadlessClient_F" ) );
