if (!hasInterface) exitWith {}; private["_list","_type","_text"]; disableSerialization; _list = ((findDisplay 3000) displayCtrl 3002); lbClear _list; _type = ""; _text = (ctrlText 3001); if(isNil "_text" || (ctrlText 3001) != "") then { { if(_x != player && alive _x) then { if(toLower(_x getVariable["zero_var_realname",name _x]) find toLower(ctrlText 3001) != -1) then { _type = switch (side _x) do { case west: {localize "STR_Cell_Cop"}; case civilian: {localize "STR_Cell_Civ"}; case east: {localize "STR_Cell_Civ"}; case independent: {localize "STR_Cell_Med"};
}; _list lbAdd format["%1 (%2)",(_x getVariable["zero_var_realname",name _x]),_type]; _list lbSetData [(lbSize (_list))-1,str _x]; }; }; } forEach zero_var_localplayerlist; } else { { if(_x != player && alive _x) then { _type = switch (side _x) do { case west: {localize "STR_Cell_Cop"}; case civilian: {localize "STR_Cell_Civ"}; case east: {localize "STR_Cell_Civ"}; case independent: {localize "STR_Cell_Med"}; }; _list lbAdd format["%1 (%2)",(_x getVariable["zero_var_realname",name _x]),_type]; _list lbSetData [(lbSize (_list))-1,str _x]; }; } forEach zero_var_localplayerlist; }; lbSort [_list,"ASC"];
