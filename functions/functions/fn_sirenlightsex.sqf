if (!hasInterface) exitWith {}; private["_vehicle","_lightleft","_lightright","_leftRed","_brightness","_lightColor"]; _vehicle = _this select 0; _lightColor = _this select 2; if(isNil "_vehicle" || isNull _vehicle || !(_vehicle getVariable "zero_var_lights")) exitWith {}; if((attachedObjects _vehicle) isEqualTo []) exitWith {}; if(isNull((attachedObjects _vehicle) select 0)) exitWith {}; if(isNull((attachedObjects _vehicle) select 1)) exitWith {}; _lightleft = (attachedObjects _vehicle) select 0; _lightleft setLightColor _lightColor; _lightleft setLightBrightness 0.2; _lightleft setLightAmbient [0.1,0.1,1]; _lightleft setLightAttenuation [0.181, 0, 1000, 250]; _lightleft setLightIntensity 10; _lightleft setLightFlareSize 0.38; _lightleft setLightFlareMaxDistance 150; _lightleft setLightUseFlare true; _lightright = (attachedObjects _vehicle) select 1;
_lightright setLightColor _lightColor; _lightright setLightBrightness 0.2; _lightright setLightAmbient [0.1,0.1,1]; _lightright setLightAttenuation [0.181, 0, 1000, 130]; _lightright setLightIntensity 10; _lightright setLightFlareSize 0.38; _lightright setLightFlareMaxDistance 150; _lightright setLightUseFlare true; _lightleft setLightDayLight true; _lightright setLightDayLight true; _leftRed = true; while {(alive _vehicle) && (_vehicle getVariable ["zero_var_lights",false])} do { if (sunOrMoon > 0.75) then { _brightness = 10; } else { _brightness = 2; }; if(_leftRed) then { _leftRed = false; _lightright setLightBrightness 0.0; uiSleep 0.05; _lightleft setLightBrightness _brightness; } else { _leftRed = true; _lightleft setLightBrightness 0.0; uiSleep 0.05; _lightright setLightBrightness _brightness; }; uiSleep (_this select 1); }; _lightright setLightBrightness 0.0; _lightleft setLightBrightness 0.0;
