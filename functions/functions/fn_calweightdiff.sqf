if (!hasInterface) exitWith {}; private["_itm","_value","_cWeight","_mWeight","_sum","_weight"]; _itm = param[0,"",[""]]; _value = param[1,-1,[0]]; _cWeight = param[2,-1,[0]]; _mWeight = param[3,-1,[0]]; if(_itm isEqualTo "" || _value isEqualTo -1 || _cWeight isEqualTo -1 || _mWeight isEqualTo -1) exitWith {}; if(_cWeight > 5000) then {_cWeight = 5000;}; if(_mWeight < 1) then {_mWeight = 1;}; _weight = ceil ((getNumber(missionConfigFile >> "zero_CfgItems" >> _itm >> "weight")) * _value);
_sum = floor _value; if(_cWeight > _mWeight) exitWith {0}; if((_cWeight + _weight) > _mWeight) then { while {true} do { _sum = _sum - 1; if(_sum < 1) exitWith {}; _weight = (getNumber(missionConfigFile >> "zero_CfgItems" >> _itm >> "weight")) * _sum; if((_cWeight + _weight) <= _mWeight) exitWith {}; }; }; if(_sum < 0) then {_sum = 0;}; _sum;
