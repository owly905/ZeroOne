if (!hasInterface) exitWith {}; private["_val"]; if(serverTime - zero_var_atm_safe < 1) exitWith {["Der Geldautomat ist nicht so schnell!",0,"",true] call zero_fnc_msg;}; zero_var_atm_safe = serverTime; _val = parseNumber(ctrlText 2702); if(_val > 16000000) exitWith {[localize "STR_ATM_WithdrawMax",0,"",true] call zero_fnc_msg;}; if(_val < 0) exitWith {}; if(!([str(_val)] call zero_fnc_isNumber)) exitWith {[localize "STR_ATM_notnumeric",0,"",true] call zero_fnc_msg;}; if(_val > ([2, 0] call zero_fnc_Z0Check)) exitWith {[localize"STR_ATM_NotEnoughFunds",0,"",true] call zero_fnc_msg;
}; if(_val < 100 && ([2, 0] call zero_fnc_Z0Check) > 20000000) exitWith {[localize "STR_ATM_WithdrawMin",0,"",true] call zero_fnc_msg;}; [1, ([3, 0] call zero_fnc_Z0Check) + _val] call zero_fnc_Z0Check; [0, ([2, 0] call zero_fnc_Z0Check) - _val] call zero_fnc_Z0Check; [format [localize "STR_ATM_WithdrawSuccess",[_val] call zero_fnc_numberText],1,"",true] call zero_fnc_msg; [] call zero_fnc_atmMenuUpdate;
