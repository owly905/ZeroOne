if (!hasInterface) exitWith {}; private["_itemArray","_uniform","_vest","_backpack","_goggles","_headgear","_items","_prim","_seco","_launcher","_lItems","_uItems","_bItems","_vItems","_pItems","_hItems","_yItems","_uMags","_bMags","_vMags","_handle","_index"]; _itemArray = zero_var_gear; zero_var_inventory = []; zero_var_carryWeight = 0; waitUntil {!(isNull (findDisplay 46)) && (!isNil "zero_var_init_survival_ready")}; _handle = [] spawn zero_fnc_stripDownPlayer; waitUntil {scriptDone _handle}; if(_itemArray isEqualTo []) exitWith{ switch(playerSide) do { case west: { [] spawn zero_fnc_copLoadout; }; case civilian: { [] spawn zero_fnc_civLoadout; }; case independent: { [] spawn zero_fnc_medicLoadout; }; case east: { [] spawn zero_fnc_civLoadout; }; }; }; _uniform = _itemArray param[0,"",[""]]; _vest = _itemArray param[1,"",[""]]; _backpack = _itemArray param[2,"",[""]]; _goggles = _itemArray param[3,"",[""]]; _headgear = _itemArray param[4,"",[""]]; _items = _itemArray param[5,[],[[]]]; _prim = _itemArray param[6,"",["",[]]]; _seco = _itemArray param[7,"",["",[]]]; _launcher = _itemArray param[8,"",["",[]]]; _lItems = _itemArray param[9,[],[[]]]; _uItems = _itemArray param[10,[],[[]]]; _uMags = _itemArray param[11,[],[[]]]; _bItems = _itemArray param[12,[],[[]]]; _bMags = _itemArray param[13,[],[[]]]; _vItems = _itemArray param[14,[],[[]]]; _vMags = _itemArray param[15,[],[[]]]; _pItems = _itemArray param[16,[],[[]]]; _hItems = _itemArray param[17,[],[[]]]; _yItems = _itemArray param[18,[],[[]]]; if(_goggles != "") then {_handle = [_goggles,true,false,false,false] spawn zero_fnc_handleZOItem; waitUntil {scriptDone _handle};}; if(_headgear != "") then {_handle = [_headgear,true,false,false,false] spawn zero_fnc_handleZOItem; waitUntil {scriptDone _handle};}; if(_uniform != "") then {_handle = [_uniform,true,false,false,false] spawn zero_fnc_handleZOItem; waitUntil {scriptDone _handle};}; if(_vest != "") then {_handle = [_vest,true,false,false,false] spawn zero_fnc_handleZOItem;
waitUntil {scriptDone _handle};}; if(_backpack != "") then { _handle = [_backpack,true,false,false,false] spawn zero_fnc_handleZOItem; waitUntil {scriptDone _handle}; if(_backpack isEqualTo "") then { zero_var_maxWeight = 74; } else { zero_var_maxWeight = 74 + (round((getNumber(configFile >> "CfgVehicles" >> _backpack >> "maximumload")) / 8)); }; }; {_handle = [_x,true,false,false,false] spawn zero_fnc_handleZOItem; waitUntil {scriptDone _handle};} forEach _items; if(_prim != "") then {_handle = [_prim,true,false,false,false] spawn zero_fnc_handleZOItem; waitUntil {scriptDone _handle};}; if(_seco != "") then {_handle = [_seco,true,false,false,false] spawn zero_fnc_handleZOItem; waitUntil {scriptDone _handle};}; if (playerSide isEqualTo east || playerSide isEqualTo west) then {if(_launcher != "") then {_handle = [_launcher,true,false,false,false] spawn zero_fnc_handleZOItem; waitUntil {scriptDone _handle};};}; {player addItemToUniform _x;} forEach (_uItems); {(uniformContainer player) addItemCargoGlobal [_x,1];} forEach (_uMags); {player addItemToVest _x;} forEach (_vItems); {(vestContainer player) addItemCargoGlobal [_x,1];} forEach (_vMags); {player addItemToBackpack _x;} forEach (_bItems); {(backpackContainer player) addItemCargoGlobal [_x,1];} forEach (_bMags); { [true,(_x select 0),(_x select 1)] call zero_fnc_handleZOInv; } forEach (_yItems); _index = ["medipack",zero_var_inventory] call zero_fnc_findIndex; if(_index != -1) then { zero_var_medipack = (zero_var_inventory select _index) select 1; }; _index = ["medipack_large",zero_var_inventory] call zero_fnc_findIndex; if(_index != -1) then { zero_var_medipack_large = ((zero_var_inventory select _index) select 1); }; _index = ["adrenalin",zero_var_inventory] call zero_fnc_findIndex; if(_index != -1) then { zero_var_adrenalin = (zero_var_inventory select _index) select 1; }; { if (_x != "") then { player addPrimaryWeaponItem _x; }; } forEach (_pItems); { if (_x != "") then { player addHandgunItem _x; }; } forEach (_hItems); if (playerSide isEqualTo east || playerSide isEqualTo west) then { { if (_x != "") then { player addSecondaryWeaponItem _x; }; } forEach (_lItems); };
