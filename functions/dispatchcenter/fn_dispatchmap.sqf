disableSerialization; if ( !hasInterface || ( playerSide isEqualTo civilian ) || ( playerSide isEqualTo east ) ) exitWith {}; params [ ["_gps",false,[false]] ]; private _info = call compile format["%1", lbData[4004,lbCurSel 4004] ]; if (_gps) then { if (call MAV_gps_fnc_isNavigationRunning) then { 0 spawn mav_gps_fnc_stopNavigationScripted; ((findDisplay 4000) displayCtrl 4017) ctrlSetText "Navigation starten"; } else { [position player,_info select 2] spawn mav_gps_fnc_startNavigationScripted; ((findDisplay 4000) displayCtrl 4017) ctrlSetText "Navigation beenden"; }; } else { if ( ( getMarkerColor format["%1_%2_%3_dispatch", _info select 1, _info select 3, _info select 4] ) isEqualTo "" ) then { ( (findDisplay 4000) displayCtrl 4010 ) ctrlSetText localize "STR_PM_DispatchCenter_Mark_on_Map_del";
private _marker = createMarkerLocal [format["%1_%2_%3_dispatch", _info select 1, _info select 3, _info select 4], _info select 2]; _marker setMarkerColorLocal "ColorWhite"; _marker setMarkerTypeLocal "hd_end"; _marker setMarkerTextLocal format[localize "STR_PM_DispatchCenter_Map_name",_info select 1]; } else { deleteMarkerLocal format["%1_%2_%3_dispatch", _info select 1, _info select 3, _info select 4]; ((findDisplay 4000) displayCtrl 4010) ctrlSetText localize "STR_PM_DispatchCenter_Mark_on_Map"; }; };
