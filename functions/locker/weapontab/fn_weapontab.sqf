if (!hasInterface) exitWith {}; private ["_display","_primaryWeaponList","_primaryWeaponPlayer","_primaryItemSilencer","_primaryItemOptic","_primaryItemPointer","_primaryItemBipod","_secondaryWeaponList","_secondaryWeaponPlayer","_secondaryItemSilencer","_secondaryItemPointer","_secondaryItemOptic","_secondaryItemBipod","_handgunWeaponList","_handgunWeaponPlayer","_handgunItemSilencer","_handgunItemPointer","_handgunItemOptic","_handgunItemBipod","_magazineList","_magazinePlayer","_magazineListEdit","_magazinePlayerEdit","_loadOut","_primaryWeaponInfo","_secondaryWeaponInfo","_handgunWeaponInfo","_uniformInfo","_vestInfo","_backpackInfo","_magazines","_uniformItems","_vestItems","_index","_count","_entity","_backpackItems","_primaryWeapon","_secondaryWeapon","_handgunWeapon"]; disableSerialization; _display = findDisplay 1000; if (isNull _display) exitWith {(str(_display)) call zero_fnc_msg;}; (_display displayCtrl 1500) ctrlShow false; (_display displayCtrl 1501) ctrlShow false; (_display displayCtrl 1502) ctrlShow false; (_display displayCtrl 1503) ctrlShow false; (_display displayCtrl 1504) ctrlShow false; (_display displayCtrl 1505) ctrlShow false; (_display displayCtrl 1506) ctrlShow false; (_display displayCtrl 1507) ctrlShow false; (_display displayCtrl 1508) ctrlShow false; (_display displayCtrl 1509) ctrlShow false; (_display displayCtrl 1510) ctrlShow false; (_display displayCtrl 1511) ctrlShow false; _primaryWeaponList = _display displayCtrl 1600; _primaryWeaponList ctrlShow true; _primaryWeaponPlayer = _display displayCtrl 1601; _primaryWeaponPlayer ctrlShow true; _primaryItemSilencer = _display displayCtrl 1602; _primaryItemSilencer ctrlShow true; _primaryItemOptic = _display displayCtrl 1603; _primaryItemOptic ctrlShow true; _primaryItemPointer = _display displayCtrl 1604; _primaryItemPointer ctrlShow true; _primaryItemBipod = _display displayCtrl 1605; _primaryItemBipod ctrlShow true; _secondaryWeaponList = _display displayCtrl 1606; _secondaryWeaponList ctrlShow true; _secondaryWeaponPlayer = _display displayCtrl 1607; _secondaryWeaponPlayer ctrlShow true; _secondaryItemSilencer = _display displayCtrl 1608; _secondaryItemSilencer ctrlShow true; _secondaryItemPointer = _display displayCtrl 1609; _secondaryItemPointer ctrlShow true; _secondaryItemOptic = _display displayCtrl 1610; _secondaryItemOptic ctrlShow true; _secondaryItemBipod = _display displayCtrl 1611; _secondaryItemBipod ctrlShow true; _handgunWeaponList = _display displayCtrl 1612; _handgunWeaponList ctrlShow true; _handgunWeaponPlayer = _display displayCtrl 1613; _handgunWeaponPlayer ctrlShow true; _handgunItemSilencer = _display displayCtrl 1614; _handgunItemSilencer ctrlShow true; _handgunItemPointer = _display displayCtrl 1615; _handgunItemPointer ctrlShow true; _handgunItemOptic = _display displayCtrl 1616; _handgunItemOptic ctrlShow true; _handgunItemBipod = _display displayCtrl 1617; _handgunItemBipod ctrlShow true; _magazineList = _display displayCtrl 1618; _magazineList ctrlShow true; _magazinePlayer = _display displayCtrl 1619; _magazinePlayer ctrlShow true; _magazineListEdit = _display displayCtrl 1620; _magazineListEdit ctrlShow true; _magazinePlayerEdit = _display displayCtrl 1621; _magazinePlayerEdit ctrlShow true; (_display displayCtrl 1700) ctrlShow false; (_display displayCtrl 1701) ctrlShow false; (_display displayCtrl 1801) ctrlShow false; (_display displayCtrl 1802) ctrlShow false; (_display displayCtrl 1804) ctrlShow true; (_display displayCtrl 1803) ctrlShow true; lbClear _primaryWeaponList; lbClear _primaryWeaponPlayer; lbClear _primaryItemSilencer; lbClear _primaryItemPointer; lbClear _primaryItemOptic; lbClear _primaryItemBipod; lbClear _secondaryWeaponList; lbClear _secondaryWeaponPlayer; lbClear _secondaryItemSilencer; lbClear _secondaryItemPointer; lbClear _secondaryItemOptic; lbClear _secondaryItemBipod; lbClear _handgunWeaponList; lbClear _handgunWeaponPlayer; lbClear _handgunItemSilencer; lbClear _handgunItemPointer; lbClear _handgunItemOptic; lbClear _handgunItemBipod; lbClear _magazineList; lbClear _magazinePlayer; _loadOut = getUnitLoadout player; _primaryWeaponInfo = _loadOut select 0; _secondaryWeaponInfo = _loadOut select 1; _handgunWeaponInfo = _loadOut select 2; _uniformInfo = _loadOut select 3; _vestInfo = _loadOut select 4; _backpackInfo = _loadOut select 5; _magazines = []; if ((!(_primaryWeaponInfo isEqualTo [])) && {(_primaryWeaponInfo select 0) != ""}) then { _primaryWeapon = (_primaryWeaponInfo select 0); _primaryWeaponPlayer lbAdd format ["   %1",getText (configFile >> "CfgWeapons" >> _primaryWeapon >> "displayName")]; _primaryWeaponPlayer lbSetPicture [lbSize(_primaryWeaponPlayer) - 1, getText (configFile >> "CfgWeapons" >> _primaryWeapon >> "picture")]; _primaryWeaponPlayer lbSetTooltip [lbSize(_primaryWeaponPlayer) - 1, getText (configFile >> "CfgWeapons" >> _primaryWeapon >> "displayName")]; _primaryWeaponPlayer lbSetValue [lbSize(_primaryWeaponPlayer) - 1, 1]; _primaryWeaponPlayer lbSetData [lbSize(_primaryWeaponPlayer) - 1, _primaryWeapon]; if((_primaryWeaponInfo select 1) != "") then { _primaryItemSilencer lbAdd format ["   %1",getText (configFile >> "CfgWeapons" >> (_primaryWeaponInfo select 1) >> "displayName")]; _primaryItemSilencer lbSetPicture [lbSize(_primaryItemSilencer) - 1, getText (configFile >> "CfgWeapons" >> (_primaryWeaponInfo select 1) >> "picture")]; _primaryItemSilencer lbSetTooltip [lbSize(_primaryItemSilencer) - 1, getText (configFile >> "CfgWeapons" >> (_primaryWeaponInfo select 1) >> "displayName")]; _primaryItemSilencer lbSetValue [lbSize(_primaryItemSilencer) - 1, 1]; _primaryItemSilencer lbSetData [lbSize(_primaryItemSilencer) - 1, (_primaryWeaponInfo select 1)]; }else{ _primaryItemSilencer lbAdd ""; _primaryItemSilencer lbSetPicture [lbSize(_primaryItemSilencer) - 1,"\A3\Ui_f\data\GUI\Rsc\RscDisplayGear\ui_gear_muzzle_gs.paa"]; }; if((_primaryWeaponInfo select 2) != "") then { _primaryItemPointer lbAdd format ["   %1",getText (configFile >> "CfgWeapons" >> (_primaryWeaponInfo select 2) >> "displayName")]; _primaryItemPointer lbSetPicture [lbSize(_primaryItemPointer) - 1, getText (configFile >> "CfgWeapons" >> (_primaryWeaponInfo select 2) >> "picture")]; _primaryItemPointer lbSetTooltip [lbSize(_primaryItemPointer) - 1, getText (configFile >> "CfgWeapons" >> (_primaryWeaponInfo select 2) >> "displayName")]; _primaryItemPointer lbSetValue [lbSize(_primaryItemPointer) - 1, 1]; _primaryItemPointer lbSetData [lbSize(_primaryItemPointer) - 1, (_primaryWeaponInfo select 2)]; }else{ _primaryItemPointer lbAdd ""; _primaryItemPointer lbSetPicture [lbSize(_primaryItemPointer) - 1,"\A3\Ui_f\data\GUI\Rsc\RscDisplayGear\ui_gear_side_gs.paa"]; }; if((_primaryWeaponInfo select 3) != "") then { _primaryItemOptic lbAdd format ["   %1",getText (configFile >> "CfgWeapons" >> (_primaryWeaponInfo select 3) >> "displayName")]; _primaryItemOptic lbSetPicture [lbSize(_primaryItemOptic) - 1, getText (configFile >> "CfgWeapons" >> (_primaryWeaponInfo select 3) >> "picture")]; _primaryItemOptic lbSetTooltip [lbSize(_primaryItemOptic) - 1, getText (configFile >> "CfgWeapons" >> (_primaryWeaponInfo select 3) >> "displayName")]; _primaryItemOptic lbSetValue [lbSize(_primaryItemOptic) - 1, 1]; _primaryItemOptic lbSetData [lbSize(_primaryItemOptic) - 1, (_primaryWeaponInfo select 3)]; }else{ _primaryItemOptic lbAdd ""; _primaryItemOptic lbSetPicture [lbSize(_primaryItemOptic) - 1,"\A3\Ui_f\data\GUI\Rsc\RscDisplayGear\ui_gear_top_gs.paa"]; }; if((_primaryWeaponInfo select 6) != "") then { _primaryItemBipod lbAdd format ["   %1",getText (configFile >> "CfgWeapons" >> (_primaryWeaponInfo select 6) >> "displayName")]; _primaryItemBipod lbSetPicture [lbSize(_primaryItemBipod) - 1, getText (configFile >> "CfgWeapons" >> (_primaryWeaponInfo select 6) >> "picture")]; _primaryItemBipod lbSetTooltip [lbSize(_primaryItemBipod) - 1, getText (configFile >> "CfgWeapons" >> (_primaryWeaponInfo select 6) >> "displayName")]; _primaryItemBipod lbSetValue [lbSize(_primaryItemBipod) - 1, 1]; _primaryItemBipod lbSetData [lbSize(_primaryItemBipod) - 1, (_primaryWeaponInfo select 6)]; }else{ _primaryItemBipod lbAdd ""; _primaryItemBipod lbSetPicture [lbSize(_primaryItemBipod) - 1,"\A3\Ui_f\data\GUI\Rsc\RscDisplayGear\ui_gear_bipod_gs.paa"]; }; }else{ _primaryWeaponPlayer lbAdd ""; _primaryWeaponPlayer lbSetPicture [lbSize(_primaryWeaponPlayer) - 1, "\A3\Ui_f\data\GUI\Rsc\RscDisplayGear\ui_gear_primary_gs.paa"]; _primaryItemSilencer lbAdd ""; _primaryItemSilencer lbSetPicture [lbSize(_primaryItemSilencer) - 1,"\A3\Ui_f\data\GUI\Rsc\RscDisplayGear\ui_gear_muzzle_gs.paa"]; _primaryItemPointer lbAdd ""; _primaryItemPointer lbSetPicture [lbSize(_primaryItemPointer) - 1,"\A3\Ui_f\data\GUI\Rsc\RscDisplayGear\ui_gear_side_gs.paa"]; _primaryItemOptic lbAdd ""; _primaryItemOptic lbSetPicture [lbSize(_primaryItemOptic) - 1,"\A3\Ui_f\data\GUI\Rsc\RscDisplayGear\ui_gear_top_gs.paa"]; _primaryItemBipod lbAdd ""; _primaryItemBipod lbSetPicture [lbSize(_primaryItemBipod) - 1,"\A3\Ui_f\data\GUI\Rsc\RscDisplayGear\ui_gear_bipod_gs.paa"]; }; if ((!(_secondaryWeaponInfo isEqualTo [])) && {(_secondaryWeaponInfo select 0) != ""}) then { _secondaryWeapon = (_secondaryWeaponInfo select 0); _secondaryWeaponPlayer lbAdd format ["   %1",getText (configFile >> "CfgWeapons" >> _secondaryWeapon >> "displayName")]; _secondaryWeaponPlayer lbSetPicture [lbSize(_secondaryWeaponPlayer) - 1, getText (configFile >> "CfgWeapons" >> _secondaryWeapon >> "picture")]; _secondaryWeaponPlayer lbSetTooltip [lbSize(_secondaryWeaponPlayer) - 1, getText (configFile >> "CfgWeapons" >> _secondaryWeapon >> "displayName")]; _secondaryWeaponPlayer lbSetValue [lbSize(_secondaryWeaponPlayer) - 1, 1]; _secondaryWeaponPlayer lbSetData [lbSize(_secondaryWeaponPlayer) - 1, _secondaryWeapon]; if((_secondaryWeaponInfo select 1) != "") then { _secondaryItemSilencer lbAdd format ["   %1",getText (configFile >> "CfgWeapons" >> (_secondaryWeaponInfo select 1) >> "displayName")]; _secondaryItemSilencer lbSetPicture [lbSize(_secondaryItemSilencer) - 1, getText (configFile >> "CfgWeapons" >> (_secondaryWeaponInfo select 1) >> "picture")]; _secondaryItemSilencer lbSetTooltip [lbSize(_secondaryItemSilencer) - 1, getText (configFile >> "CfgWeapons" >> (_secondaryWeaponInfo select 1) >> "displayName")]; _secondaryItemSilencer lbSetValue [lbSize(_secondaryItemSilencer) - 1, 1]; _secondaryItemSilencer lbSetData [lbSize(_secondaryItemSilencer) - 1, (_secondaryWeaponInfo select 1)]; }else{ _secondaryItemSilencer lbAdd ""; _secondaryItemSilencer lbSetPicture [lbSize(_secondaryItemSilencer) - 1,"\A3\Ui_f\data\GUI\Rsc\RscDisplayGear\ui_gear_muzzle_gs.paa"]; }; if((_secondaryWeaponInfo select 2) != "") then { _secondaryItemPointer lbAdd format ["   %1",getText (configFile >> "CfgWeapons" >> (_secondaryWeaponInfo select 2) >> "displayName")]; _secondaryItemPointer lbSetPicture [lbSize(_secondaryItemPointer) - 1, getText (configFile >> "CfgWeapons" >> (_secondaryWeaponInfo select 2) >> "picture")]; _secondaryItemPointer lbSetTooltip [lbSize(_secondaryItemPointer) - 1, getText (configFile >> "CfgWeapons" >> (_secondaryWeaponInfo select 2) >> "displayName")]; _secondaryItemPointer lbSetValue [lbSize(_secondaryItemPointer) - 1, 1]; _secondaryItemPointer lbSetData [lbSize(_secondaryItemPointer) - 1, (_secondaryWeaponInfo select 2)]; }else{ _secondaryItemPointer lbAdd ""; _secondaryItemPointer lbSetPicture [lbSize(_secondaryItemPointer) - 1,"\A3\Ui_f\data\GUI\Rsc\RscDisplayGear\ui_gear_side_gs.paa"]; }; if((_secondaryWeaponInfo select 3) != "") then { _secondaryItemOptic lbAdd format ["   %1",getText (configFile >> "CfgWeapons" >> (_secondaryWeaponInfo select 3) >> "displayName")]; _secondaryItemOptic lbSetPicture [lbSize(_secondaryItemOptic) - 1, getText (configFile >> "CfgWeapons" >> (_secondaryWeaponInfo select 3) >> "picture")]; _secondaryItemOptic lbSetTooltip [lbSize(_secondaryItemOptic) - 1, getText (configFile >> "CfgWeapons" >> (_secondaryWeaponInfo select 3) >> "displayName")]; _secondaryItemOptic lbSetValue [lbSize(_secondaryItemOptic) - 1, 1]; _secondaryItemOptic lbSetData [lbSize(_secondaryItemOptic) - 1, (_secondaryWeaponInfo select 3)]; }else{ _secondaryItemOptic lbAdd ""; _secondaryItemOptic lbSetPicture [lbSize(_secondaryItemOptic) - 1,"\A3\Ui_f\data\GUI\Rsc\RscDisplayGear\ui_gear_top_gs.paa"]; }; if((_secondaryWeaponInfo select 6) != "") then { _secondaryItemBipod lbAdd format ["   %1",getText (configFile >> "CfgWeapons" >> (_secondaryWeaponInfo select 6) >> "displayName")];
_secondaryItemBipod lbSetPicture [lbSize(_secondaryItemBipod) - 1, getText (configFile >> "CfgWeapons" >> (_secondaryWeaponInfo select 6) >> "picture")]; _secondaryItemBipod lbSetTooltip [lbSize(_secondaryItemBipod) - 1, getText (configFile >> "CfgWeapons" >> (_secondaryWeaponInfo select 6) >> "displayName")]; _secondaryItemBipod lbSetValue [lbSize(_secondaryItemBipod) - 1, 1]; _secondaryItemBipod lbSetData [lbSize(_primaryItemBipod) - 1, (_secondaryWeaponInfo select 6)]; }else{ _secondaryItemBipod lbAdd ""; _secondaryItemBipod lbSetPicture [lbSize(_secondaryItemBipod) - 1,"\A3\Ui_f\data\GUI\Rsc\RscDisplayGear\ui_gear_bipod_gs.paa"]; }; }else{ _secondaryWeaponPlayer lbAdd ""; _secondaryWeaponPlayer lbSetPicture [lbSize(_secondaryWeaponPlayer) - 1, "\A3\Ui_f\data\GUI\Rsc\RscDisplayGear\ui_gear_secondary_gs.paa"]; _secondaryItemSilencer lbAdd ""; _secondaryItemSilencer lbSetPicture [lbSize(_secondaryItemSilencer) - 1,"\A3\Ui_f\data\GUI\Rsc\RscDisplayGear\ui_gear_muzzle_gs.paa"]; _secondaryItemPointer lbAdd ""; _secondaryItemPointer lbSetPicture [lbSize(_secondaryItemPointer) - 1,"\A3\Ui_f\data\GUI\Rsc\RscDisplayGear\ui_gear_side_gs.paa"]; _secondaryItemOptic lbAdd ""; _secondaryItemOptic lbSetPicture [lbSize(_secondaryItemOptic) - 1,"\A3\Ui_f\data\GUI\Rsc\RscDisplayGear\ui_gear_top_gs.paa"]; _secondaryItemBipod lbAdd ""; _secondaryItemBipod lbSetPicture [lbSize(_secondaryItemBipod) - 1,"\A3\Ui_f\data\GUI\Rsc\RscDisplayGear\ui_gear_bipod_gs.paa"]; }; if ((!(_handgunWeaponInfo isEqualTo [])) && {(_handgunWeaponInfo select 0) != ""}) then { _handgunWeapon = (_handgunWeaponInfo select 0); _handgunWeaponPlayer lbAdd format ["   %1",getText (configFile >> "CfgWeapons" >> _handgunWeapon >> "displayName")]; _handgunWeaponPlayer lbSetPicture [lbSize(_handgunWeaponPlayer) - 1, getText (configFile >> "CfgWeapons" >> _handgunWeapon >> "picture")]; _handgunWeaponPlayer lbSetTooltip [lbSize(_handgunWeaponPlayer) - 1, getText (configFile >> "CfgWeapons" >> _handgunWeapon >> "displayName")]; _handgunWeaponPlayer lbSetValue [lbSize(_handgunWeaponPlayer) - 1, 1]; _handgunWeaponPlayer lbSetData [lbSize(_handgunWeaponPlayer) - 1, _handgunWeapon]; if((_handgunWeaponInfo select 1) != "") then { _handgunItemSilencer lbAdd format ["   %1",getText (configFile >> "CfgWeapons" >> (_handgunWeaponInfo select 1) >> "displayName")]; _handgunItemSilencer lbSetPicture [lbSize(_handgunItemSilencer) - 1, getText (configFile >> "CfgWeapons" >> (_handgunWeaponInfo select 1) >> "picture")]; _handgunItemSilencer lbSetTooltip [lbSize(_handgunItemSilencer) - 1, getText (configFile >> "CfgWeapons" >> (_handgunWeaponInfo select 1) >> "displayName")]; _handgunItemSilencer lbSetValue [lbSize(_handgunItemSilencer) - 1, 1]; _handgunItemSilencer lbSetData [lbSize(_handgunItemSilencer) - 1, (_handgunWeaponInfo select 1)]; }else{ _handgunItemSilencer lbAdd ""; _handgunItemSilencer lbSetPicture [lbSize(_handgunItemSilencer) - 1,"\A3\Ui_f\data\GUI\Rsc\RscDisplayGear\ui_gear_muzzle_gs.paa"]; }; if((_handgunWeaponInfo select 2) != "") then { _handgunItemPointer lbAdd format ["   %1",getText (configFile >> "CfgWeapons" >> (_handgunWeaponInfo select 2) >> "displayName")]; _handgunItemPointer lbSetPicture [lbSize(_handgunItemPointer) - 1, getText (configFile >> "CfgWeapons" >> (_handgunWeaponInfo select 2) >> "picture")]; _handgunItemPointer lbSetTooltip [lbSize(_handgunItemPointer) - 1, getText (configFile >> "CfgWeapons" >> (_handgunWeaponInfo select 2) >> "displayName")]; _handgunItemPointer lbSetValue [lbSize(_handgunItemPointer) - 1, 1]; _handgunItemPointer lbSetData [lbSize(_handgunItemPointer) - 1, (_handgunWeaponInfo select 2)]; }else{ _handgunItemPointer lbAdd ""; _handgunItemPointer lbSetPicture [lbSize(_handgunItemPointer) - 1,"\A3\Ui_f\data\GUI\Rsc\RscDisplayGear\ui_gear_side_gs.paa"]; }; if((_handgunWeaponInfo select 3) != "") then { _handgunItemOptic lbAdd format ["   %1",getText (configFile >> "CfgWeapons" >> (_handgunWeaponInfo select 3) >> "displayName")]; _handgunItemOptic lbSetPicture [lbSize(_handgunItemOptic) - 1, getText (configFile >> "CfgWeapons" >> (_handgunWeaponInfo select 3) >> "picture")]; _handgunItemOptic lbSetTooltip [lbSize(_handgunItemOptic) - 1, getText (configFile >> "CfgWeapons" >> (_handgunWeaponInfo select 3) >> "displayName")]; _handgunItemOptic lbSetValue [lbSize(_handgunItemOptic) - 1, 1]; _handgunItemOptic lbSetData [lbSize(_handgunItemOptic) - 1, (_handgunWeaponInfo select 3)]; }else{ _handgunItemOptic lbAdd ""; _handgunItemOptic lbSetPicture [lbSize(_handgunItemOptic) - 1,"\A3\Ui_f\data\GUI\Rsc\RscDisplayGear\ui_gear_top_gs.paa"]; }; if((_handgunWeaponInfo select 6) != "") then { _handgunItemBipod lbAdd format ["   %1",getText (configFile >> "CfgWeapons" >> (_handgunWeaponInfo select 6) >> "displayName")]; _handgunItemBipod lbSetPicture [lbSize(_handgunItemBipod) - 1, getText (configFile >> "CfgWeapons" >> (_handgunWeaponInfo select 6) >> "picture")]; _handgunItemBipod lbSetTooltip [lbSize(_handgunItemBipod) - 1, getText (configFile >> "CfgWeapons" >> (_handgunWeaponInfo select 6) >> "displayName")]; _handgunItemBipod lbSetValue [lbSize(_handgunItemBipod) - 1, 1]; _handgunItemBipod lbSetData [lbSize(_handgunItemBipod) - 1, (_handgunWeaponInfo select 6)]; }else{ _handgunItemBipod lbAdd ""; _handgunItemBipod lbSetPicture [lbSize(_handgunItemBipod) - 1,"\A3\Ui_f\data\GUI\Rsc\RscDisplayGear\ui_gear_bipod_gs.paa"]; }; }else{ _handgunWeaponPlayer lbAdd ""; _handgunWeaponPlayer lbSetPicture [lbSize(_handgunWeaponPlayer) - 1, "\A3\Ui_f\data\GUI\Rsc\RscDisplayGear\ui_gear_hgun_gs.paa"]; _handgunItemSilencer lbAdd ""; _handgunItemSilencer lbSetPicture [lbSize(_handgunItemSilencer) - 1,"\A3\Ui_f\data\GUI\Rsc\RscDisplayGear\ui_gear_muzzle_gs.paa"]; _handgunItemPointer lbAdd ""; _handgunItemPointer lbSetPicture [lbSize(_handgunItemPointer) - 1,"\A3\Ui_f\data\GUI\Rsc\RscDisplayGear\ui_gear_side_gs.paa"]; _handgunItemOptic lbAdd ""; _handgunItemOptic lbSetPicture [lbSize(_handgunItemOptic) - 1,"\A3\Ui_f\data\GUI\Rsc\RscDisplayGear\ui_gear_top_gs.paa"]; _handgunItemBipod lbAdd ""; _handgunItemBipod lbSetPicture [lbSize(_handgunItemBipod) - 1,"\A3\Ui_f\data\GUI\Rsc\RscDisplayGear\ui_gear_bipod_gs.paa"]; }; _uniformItems = if (!(_uniformInfo isEqualTo []) && {!((_uniformInfo select 1)isEqualTo [])}) then {(_uniformInfo select 1)} else { []}; _vestItems = if (!(_vestInfo isEqualTo []) && {!((_vestInfo select 1)isEqualTo [])}) then {(_vestInfo select 1)} else { []}; _backpackItems = if (!(_backpackInfo isEqualTo []) && {!((_backpackInfo select 1)isEqualTo [])}) then {(_backpackInfo select 1)} else { []}; { _entity = if(typeName (_x select 0) == "ARRAY") then {toLower((_x select 0) select 0)}else{toLower(_x select 0)}; if (isClass(configFile >> "CfgMagazines" >> _entity)) then { _count = if (count _x > 2) then {_x select 1} else {1}; _index = [toLower(_entity), _magazines] call zero_fnc_findIndex; if (_index isEqualTo -1) then { _magazines pushBack [toLower(_entity), _count]; } else { _magazines set [_index, [toLower(_entity), ((_magazines select _index) select 1) + _count]]; }; }; } forEach _uniformItems + _vestItems + _backpackItems; { _entity = _x select 0; if(isClass(configFile >> "CfgMagazines" >> _entity)) then { _magazinePlayer lbAdd format ["%2 (%1)", (_x select 1), getText (configFile >> "CfgMagazines" >> _entity >> "displayName")]; _magazinePlayer lbSetTooltip [lbSize(_magazinePlayer) - 1, format ["%2 (%1)", (_x select 1), getText (configFile >> "CfgMagazines" >> _entity >> "displayName")]]; _magazinePlayer lbSetPicture [lbSize(_magazinePlayer) - 1, getText (configFile >> "CfgMagazines" >> _entity >> "picture")]; _magazinePlayer lbSetValue [lbSize(_magazinePlayer) - 1, (_x select 1)]; _magazinePlayer lbSetData [lbSize(_magazinePlayer) - 1, _entity]; }; } forEach _magazines; _display setVariable["zero_var_playerMagazines",_magazines]; { { _entity = toLower(_x select 0); if (_entity != "") then { if (isClass (configFile >> "CfgWeapons" >> _entity)) then { if(getNumber(configFile >> "CfgWeapons" >> _entity >> "type") == 1) then { _primaryWeaponList lbAdd format ["%2 (%1)", (_x select 1), getText (configFile >> "CfgWeapons" >> _entity >> "displayName")]; _primaryWeaponList lbSetTooltip [lbSize(_primaryWeaponList) - 1, format ["%2 (%1)", (_x select 1), getText (configFile >> "CfgWeapons" >> _entity >> "displayName")]]; _primaryWeaponList lbSetPicture [lbSize(_primaryWeaponList) - 1, getText (configFile >> "CfgWeapons" >> _entity >> "picture")]; _primaryWeaponList lbSetValue [lbSize(_primaryWeaponList) - 1, (_x select 1)]; _primaryWeaponList lbSetData [lbSize(_primaryWeaponList) - 1, _entity]; }else{ if(getNumber(configFile >> "CfgWeapons" >> _entity >> "type") == 2) then { _handgunWeaponList lbAdd format ["%2 (%1)", (_x select 1), getText (configFile >> "CfgWeapons" >> _entity >> "displayName")]; _handgunWeaponList lbSetTooltip [lbSize(_handgunWeaponList) - 1, format ["%2 (%1)", (_x select 1), getText (configFile >> "CfgWeapons" >> _entity >> "displayName")]]; _handgunWeaponList lbSetPicture [lbSize(_handgunWeaponList) - 1, getText (configFile >> "CfgWeapons" >> _entity >> "picture")]; _handgunWeaponList lbSetValue [lbSize(_handgunWeaponList) - 1, (_x select 1)]; _handgunWeaponList lbSetData [lbSize(_handgunWeaponList) - 1, _entity]; }else{ if(getNumber(configFile >> "CfgWeapons" >> _entity >> "type") == 4) then { _secondaryWeaponList lbAdd format ["%2 (%1)", (_x select 1), getText (configFile >> "CfgWeapons" >> _entity >> "displayName")]; _secondaryWeaponList lbSetTooltip [lbSize(_secondaryWeaponList) - 1, format ["%2 (%1)", (_x select 1), getText (configFile >> "CfgWeapons" >> _entity >> "displayName")]]; _secondaryWeaponList lbSetPicture [lbSize(_secondaryWeaponList) - 1, getText (configFile >> "CfgWeapons" >> _entity >> "picture")]; _secondaryWeaponList lbSetValue [lbSize(_secondaryWeaponList) - 1, (_x select 1)]; _secondaryWeaponList lbSetData [lbSize(_secondaryWeaponList) - 1, _entity]; }else{ if((getNumber(configFile >> "CfgWeapons" >> _entity >> "ItemInfo" >> "type")) in [101,201,301]) then { _primaryWeaponList lbAdd format ["%2 (%1)", (_x select 1), getText (configFile >> "CfgWeapons" >> _entity >> "displayName")]; _primaryWeaponList lbSetTooltip [lbSize(_primaryWeaponList) - 1, format ["%2 (%1)", (_x select 1), getText (configFile >> "CfgWeapons" >> _entity >> "displayName")]]; _primaryWeaponList lbSetPicture [lbSize(_primaryWeaponList) - 1, getText (configFile >> "CfgWeapons" >> _entity >> "picture")]; _primaryWeaponList lbSetValue [lbSize(_primaryWeaponList) - 1, (_x select 1)]; _primaryWeaponList lbSetData [lbSize(_primaryWeaponList) - 1, _entity]; _handgunWeaponList lbAdd format ["%2 (%1)", (_x select 1), getText (configFile >> "CfgWeapons" >> _entity >> "displayName")]; _handgunWeaponList lbSetTooltip [lbSize(_handgunWeaponList) - 1, format ["%2 (%1)", (_x select 1), getText (configFile >> "CfgWeapons" >> _entity >> "displayName")]]; _handgunWeaponList lbSetPicture [lbSize(_handgunWeaponList) - 1, getText (configFile >> "CfgWeapons" >> _entity >> "picture")]; _handgunWeaponList lbSetValue [lbSize(_handgunWeaponList) - 1, (_x select 1)]; _handgunWeaponList lbSetData [lbSize(_handgunWeaponList) - 1, _entity]; }; if((getNumber(configFile >> "CfgWeapons" >> _entity >> "ItemInfo" >> "type")) == 302) then { _primaryWeaponList lbAdd format ["%2 (%1)", (_x select 1), getText (configFile >> "CfgWeapons" >> _entity >> "displayName")]; _primaryWeaponList lbSetTooltip [lbSize(_primaryWeaponList) - 1, format ["%2 (%1)", (_x select 1), getText (configFile >> "CfgWeapons" >> _entity >> "displayName")]]; _primaryWeaponList lbSetPicture [lbSize(_primaryWeaponList) - 1, getText (configFile >> "CfgWeapons" >> _entity >> "picture")]; _primaryWeaponList lbSetValue [lbSize(_primaryWeaponList) - 1, (_x select 1)]; _primaryWeaponList lbSetData [lbSize(_primaryWeaponList) - 1, _entity]; }; }; }; }; }else{ if(isClass(configFile >> "CfgMagazines" >> _entity)) then { _magazineList lbAdd format ["%2 (%1)", (_x select 1), getText (configFile >> "CfgMagazines" >> _entity >> "displayName")]; _magazineList lbSetTooltip [lbSize(_magazineList) - 1, format ["%2 (%1)", (_x select 1), getText (configFile >> "CfgMagazines" >> _entity >> "displayName")]]; _magazineList lbSetPicture [lbSize(_magazineList) - 1, getText (configFile >> "CfgMagazines" >> _entity >> "picture")]; _magazineList lbSetValue [lbSize(_magazineList) - 1, (_x select 1)]; _magazineList lbSetData [lbSize(_magazineList) - 1, _entity]; }; }; }; } forEach _x; } forEach zero_var_locker; if((lbSize(_primaryWeaponList) - 1) isEqualTo -1) then {_primaryWeaponList lbAdd "Keine Primärwaffen verfügbar";}; if((lbSize(_secondaryWeaponList) - 1) isEqualTo -1) then {_secondaryWeaponList lbAdd "Keine Secundärwaffen verfügbar";}; if((lbSize(_handgunWeaponList) - 1) isEqualTo -1) then {_handgunWeaponList lbAdd "Keine Pistolen verfügbar";}; if((lbSize(_magazineList) - 1) isEqualTo -1) then {_magazineList lbAdd "Keine Magazine verfügbar";}; if((lbSize(_magazinePlayer) - 1) isEqualTo -1) then {_magazinePlayer lbAdd "Keine Magazine verfügbar";}; _primaryWeaponList lbSetCurSel -1; _secondaryWeaponList lbSetCurSel -1; _handgunWeaponList lbSetCurSel -1; _magazineList lbSetCurSel -1; _magazinePlayer lbSetCurSel -1; lbSort _primaryWeaponList; lbSort _secondaryWeaponList; lbSort _handgunWeaponList; lbSort _magazineList; lbSort _magazinePlayer;
