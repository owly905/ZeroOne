if (!hasInterface) exitWith {}; private ["_display","_headgearList","_gogglesList","_uniformList","_vestList","_backpackList","_binocularList","_entity"]; disableSerialization; _display = findDisplay 1000; _headgearList = _display displayCtrl 1500; _gogglesList = _display displayCtrl 1502; _uniformList = _display displayCtrl 1504; _vestList = _display displayCtrl 1506; _backpackList = _display displayCtrl 1508; _binocularList = _display displayCtrl 1510; lbClear _headgearList; lbClear _gogglesList; lbClear _uniformList; lbClear _vestList; lbClear _backpackList; lbClear _binocularList; { { _entity = toLower(_x select 0); if (_entity != "") then { if (isClass (configFile >> "CfgWeapons" >> _entity)) then { if (getText(configFile >> "CfgWeapons" >> _entity >> "ItemInfo" >> "containerClass") != "") then { if (getNumber(configFile >> "CfgWeapons" >> _entity >> "ItemInfo" >> "type") == 801) then { _uniformList lbAdd format ["%2 (%1)", (_x select 1), getText (configFile >> "CfgWeapons" >> _entity >> "displayName")]; _uniformList lbSetTooltip [lbSize(_uniformList) - 1, format ["%2 (%1)", (_x select 1), getText (configFile >> "CfgWeapons" >> _entity >> "displayName")]]; _uniformList lbSetPicture [lbSize(_uniformList) - 1, getText (configFile >> "CfgWeapons" >> _entity >> "picture")]; _uniformList lbSetValue [lbSize(_uniformList) - 1, (_x select 1)]; _uniformList lbSetData [lbSize(_uniformList) - 1, _entity]; } else { _vestList lbAdd format ["%2 (%1)", (_x select 1), getText (configFile >> "CfgWeapons" >> _entity >> "displayName")]; _vestList lbSetTooltip [lbSize(_vestList) - 1, format ["%2 (%1)", (_x select 1), getText (configFile >> "CfgWeapons" >> _entity >> "displayName")]]; _vestList lbSetPicture [lbSize(_vestList) - 1, getText (configFile >> "CfgWeapons" >> _entity >> "picture")]; _vestList lbSetValue [lbSize(_vestList) - 1, (_x select 1)]; _vestList lbSetData [lbSize(_vestList) - 1, _entity]; }; } else { if(getNumber(configFile >> "CfgWeapons" >> _entity >> "ItemInfo" >> "type") == 605) then { _headgearList lbAdd format ["%2 (%1)", (_x select 1), getText (configFile >> "CfgWeapons" >> _entity >> "displayName")]; _headgearList lbSetTooltip [lbSize(_headgearList) - 1, format ["%2 (%1)", (_x select 1), getText (configFile >> "CfgWeapons" >> _entity >> "displayName")]]; _headgearList lbSetPicture [lbSize(_headgearList) - 1, getText (configFile >> "CfgWeapons" >> _entity >> "picture")]; _headgearList lbSetValue [lbSize(_headgearList) - 1, (_x select 1)]; _headgearList lbSetData [lbSize(_headgearList) - 1, _entity]; }else{ if(_entity find "binocular" != -1 || _entity find "rangefinder" != -1) then { _binocularList lbAdd format ["%2 (%1)", (_x select 1), getText (configFile >> "CfgWeapons" >> _entity >> "displayName")];
_binocularList lbSetTooltip [lbSize(_binocularList) - 1, format ["%2 (%1)", (_x select 1), getText (configFile >> "CfgWeapons" >> _entity >> "displayName")]]; _binocularList lbSetPicture [lbSize(_binocularList) - 1, getText (configFile >> "CfgWeapons" >> _entity >> "picture")]; _binocularList lbSetValue [lbSize(_binocularList) - 1, (_x select 1)]; _binocularList lbSetData [lbSize(_binocularList) - 1, _entity]; }; }; }; } else { if (isClass (configFile >> "CfgVehicles" >> _entity)) then { _backpackList lbAdd format ["%2 (%1)", (_x select 1), getText (configFile >> "CfgVehicles" >> _entity >> "displayName")]; _backpackList lbSetTooltip [lbSize(_backpackList) - 1, format ["%2 (%1)", (_x select 1), getText (configFile >> "CfgVehicles" >> _entity >> "displayName")]]; _backpackList lbSetPicture [lbSize(_backpackList) - 1, getText (configFile >> "CfgVehicles" >> _entity >> "picture")]; _backpackList lbSetValue [lbSize(_backpackList) - 1, (_x select 1)]; _backpackList lbSetData [lbSize(_backpackList) - 1, _entity]; } else { if (isClass (configFile >> "CfgGlasses" >> _entity)) then { _gogglesList lbAdd format ["%2 (%1)", (_x select 1), getText (configFile >> "CfgGlasses" >> _entity >> "displayName")]; _gogglesList lbSetTooltip [lbSize(_gogglesList) - 1, format ["%2 (%1)", (_x select 1), getText (configFile >> "CfgGlasses" >> _entity >> "displayName")]]; _gogglesList lbSetPicture [lbSize(_gogglesList) - 1, getText (configFile >> "CfgGlasses" >> _entity >> "picture")]; _gogglesList lbSetValue [lbSize(_gogglesList) - 1, (_x select 1)]; _gogglesList lbSetData [lbSize(_gogglesList) - 1, _entity]; }; }; }; }; } forEach _x; } forEach zero_var_locker; if((lbSize(_headgearList) - 1) isEqualTo -1) then {_headgearList lbAdd "Keine Kopfbedeckungen verfügbar";}; if((lbSize(_gogglesList) - 1) isEqualTo -1) then {_gogglesList lbAdd "Keine Brillen verfügbar";}; if((lbSize(_binocularList) - 1) isEqualTo -1) then {_binocularList lbAdd "Keine Ferngläser verfügbar";}; if((lbSize(_uniformList) - 1) isEqualTo -1) then {_uniformList lbAdd "Keine Uniformen verfügbar";}; if((lbSize(_vestList) - 1) isEqualTo -1) then {_vestList lbAdd "Keine Westen verfügbar";}; if((lbSize(_backpackList) - 1) isEqualTo -1) then {_backpackList lbAdd "Keine Rucksäcke verfügbar";}; lbSort _headgearList; lbSort _gogglesList; lbSort _binocularList; lbSort _uniformList; lbSort _vestList; lbSort _backpackList; _headgearList lbSetCurSel -1; _gogglesList lbSetCurSel -1; _binocularList lbSetCurSel -1; _uniformList lbSetCurSel -1; _vestList lbSetCurSel -1; _backpackList lbSetCurSel -1;
